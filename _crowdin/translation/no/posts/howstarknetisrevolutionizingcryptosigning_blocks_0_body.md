# Hvordan StarkNet revolusjonerer krypteringssignering
## *Ute med de komplekse knappene med ansiktsID. En casestudie av konto Abstraksjon*
Tiden folk kan bruke kjente metoder som ansikts-ID for å signere krypto-transaksjoner, vil vi se en bombe i selvjournal. Alle vet at å kjøre din egen lommebok er den originale kryptoaletten, men det er skremmende og har mennesker som omfavner utvekslinger isteden. Dette er en casestudie av hvordan en StarkNet funksjonalitet kalt konto Abstraksjon blir brukt av Braavos for å få en langt mer intuitiv måte å bruke lommeboken din.
## Introduserer konto abstraksjon
Etter FTX-skandalen er spørsmålet mer relevant enn noensinne. Hvorfor velger fortsatt folk å gi sine kryptil sentraliserte institusjoner, i stedet for å kyndige det selv? Svaret: Selvsynlighet er komplisert. Frøfraser er den "verstbeste" utvinningsmekanismen, og avskremmer mange (selv noen av de vanskeligste degens). Svaret på denne utfordringen: Konto Abstraksjon. Konto Abstraksjon tillater lommebøker å møtes (og overskrive) UX-forventningene til Web2 brukere, for eksempel å signere en transaksjon med Face ID eller bruke 2-trinnsautentisering. Den legger til rette for segmentering av konto og utgiftsbegrensninger, og muliggjør eventuelt enkel gjenoppretting av konto og fjerning av såret alle sammen. Det er en revolusjon for brukergrensesnitt og UX.
## StarkNet
StarkNet, den ledende validitetsrullen, har flere viktige egenskaper som gjør det til den mest lovende løsningen å skalere Ethereum. Basert på STARK-bevis tilbyr den lave gasspriser uten å kompromittere Ethereum-sikkerheten. Sporopptegnelsen fra STARK bevis som forplikter StarkEx omfatter $800B i kumulativt handelsvolum, 300M-transaksjoner, og 90M NFT. Egenskapene til STARK-bevisene for å gi lave gebyrer, koblet med kraften til konto Abstraction, Tillatte Braavos til å utvikle innovativ lommebok det tar sikte på.
## Kontekst
De fleste store blokkeringskjedene, inkludert Bitcoin og Ethereum, bruker secp256k1 elliptisk kurve kryptografiske signaturordninger (se[her](http://ethanfast.com/top-crypto.html)for en omfattende liste). Denne elliptiske kurveimplementeringen anses å være robust – mange blokkjeder brukte den og sto i test av tid. Men den er ikke kompatibel med den kryptografiske signaturordningen som er tilgjengelig i moduler for maskinvare i mobile enheter (HSM), For eksempel iPhones og Android (Pixel and other) telefoner. Dette utstyret bruker en annen kurve – sekp256r1 (også kalt NIST-P256). Dette betyr at brukere av disse blokk-kjedene ikke kan dra nytte av sikkerhets-brikkene på sine enheter og må bruke maskinvare lommebøker hvis de vil oppnå et sterkt sikkerhetsnivå. Dette begrenser alle UX-innovasjoner om hvordan brukerne kan signere på en lommebok og godkjenne transaksjonene (derved vil sein-phrasers utholdenhet). StarkNet støtter ikke sekp256r1, og har en egen egenutviklet kurve som er en STARK-vennlig kurve. Men i motsetning til andre blokk-kjeder har StarkNet konto tilgjengelig lokalt på sin plattform, som åpner en ny verden av UX muligheter for lommebokapper. Braavos gjorde denne muligheten til å introdusere maskinvaresignalet.
## Maskinvare signerer
Maskinvaresigneren består av to hoveddeler:
* Det sikre delsystemet i brukernes mobile enhet * Den smarte kontokontrakten som kan kjøre vilkårlig logikk (a.k.a Account Abstraction)
## Sikre delsystem
Maskinvare-signatoren benytter det sikre undersystemet innebygd i brukerenheten — iPhone's**Secure Enclave**eller Android Phone’s**Titan**HSM — for å beskytte kontoen. ![](https://miro.medium.com/max/1400/0*EPm8q10ykvFGnvcv) Den Secure Enclave / Titan chip er et dedikert og isolert undersystem, fullstendig atskilt fra programprosessoren som kan generere privatnøkler og signere meldinger. Det genererer nøkler ved hjelp av en intern, tilfeldig nummer-generator (TRNG) og skilter meldinger over NIST-P256 (sekp256r1) elliptisk kurve via intern Public Key Accelerator (PKA). Personlige nøkler forlater aldri sikkert system og er ukjent/utilgjengelige for noen, ikke engang for brukeren, eller for selve programmet. Dette betyr at selv om enhetsprosessoren kjerne blir kompromittert, så er brukerens nøkler trygt! ![](https://miro.medium.com/max/1400/0*yHJ--fK8keNdTci8)
## Deeper dykk inn i Secure Enclave
Under produksjonsprosessen av Chip genereres en UID (Unik identifikator) av TRNG og lagres i PKA. Den kan ikke leses eller aldri forlater PKA-en, Dermed er det ukjent til og med Secure Enclave prosessoren og til Secure Enclave Proceum Operating System (SepOS). Denne UID er et tilfeldig tall som er unikt per enhet og brukes til å kryptere alle nøklene som genereres i fremtiden på denne enheten. Måten det virker på, er som følger: Programmet vil be SepOS om å generere et nytt nøkkelpar SepOS vil instruere Secure Enclave TRNG for å generere en nøkkel og kryptere den (ved bruk av UID). Appen kan deretter be fra SepOS om å dekryptere nøkkelen og signere en melding med den genererte nøkkelen. During this entire process the generated key does not leave the enclave and is unknown to anyone. (For more information on the Secure Enclave, please see [here](https://support.apple.com/en-il/guide/security/sec59b0b31ff/web)). The way the Secure Enclave is built and operates, along with the fact that it is a target for attacks by powerful corporations and governments around the world, is the reason its security surpasses standard hardware wallets.
## Account Abstraction
The power of Braavos as a smart contract based wallet on top of StarkNet, is that it is comprised of two pillars:
* The client side (e.g. the application) that allows the user to review/sign transactions and send them to the chain. * The on-chain side — has an account smart contract that can run arbitrary logic; and in particular in our case, run arbitrary signature **verification** logic. The application signs the transaction using the mobile device security module and then sends it to the account contract on-chain that can verify it. As mentioned above, the security module on iPhones and Android phones uses a cryptography that is called NIST-P256 (secp256r1), which is not compatible with any major blockchain cryptographic scheme, including StarkNet. This is why having a smart contract account on-chain that all transactions go through and can run arbitrary logic, is crucial in utilizing these HSMs on iPhones and Android phones. ![](https://miro.medium.com/max/1400/0*1gItqYMJgmpu_fXc)
## Biometrics
How does the user approve a transaction via Braavos wallet? Can a malicious application simply auto-sign a transaction without the user’s consent? No!! The cool thing about the built-in security module in mobile devices, such as the Secure Enclave, is that it supports intrinsically biometric authentication of the user identity. This means that even the actual approval to sign a transaction is done directly versus the Secure Enclave. The approval does not go through the application, and the user will need to approve the transaction with his fingerprint or face identification.
## Recovery
If no one knows the private key, what happens if the device gets lost or becomes bricked? How can the user gain back control of the account? In Braavos, an account will actually have 2 public keys — the Hardware Signer key, which will be used to sign all transactions, and the key derived from the seed phrase that can only sign one transaction — a “Request to remove Hardware Signer”. This request won’t be executed immediately, but rather will have a time delay of 4 days (configurable) in order to allow the user to use the Hardware Signer to cancel such a request. This means that if the device gets stolen/lost/bricked, users will still be able to recover their account within 4 days. However, if their Seed Phrase gets stolen and an attacker issues a request to remove the Hardware Signer, the user will automatically (and repeatedly) get a notification to their mobile device and will be able to cancel the request and keep all of the assets safe.
## Summary
The Hardware Signer feature offers both state-of-the-art security level for crypto users, and the experience users are used to from web2. In this sense, signing a transaction is as smooth and worry free as paying with Apple/Google pay. This is just one, yet prominent, example of the power of StarkNet, smart contract based wallet (a.k.a Account Abstraction) and the new design space it enables. We foresee the development of more and more nascent capabilities that will drive the crypto industry to a better and more inclusive future, providing new and existing users alike with uncompromised security coupled with uncompromised UX.